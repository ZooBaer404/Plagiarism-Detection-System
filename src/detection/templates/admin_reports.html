{% extends "base.html" %}
{% load static %}

{% block content %}

<div class="reports-container bg-slate-100 min-h-full flex flex-col gap-2 flex-1">

  <!-- Header -->
  <header class="admin-header flex justify-between items-center p-3 bg-white border-b border-neutral-300 flex-none">
    <a href="{% url 'admin_dashboard' %}" class="brand-title text-3xl font-semibold">
      Plagiarism Detection
    </a>

    <h1 class="page-title text-xl font-medium">Admin</h1>

    <a href="{% url 'admin_account' %}" 
       class="profile-icon w-10 h-10 flex items-center justify-center rounded-full border border-neutral-700 bg-white hover:bg-neutral-200 transition">
      <span class="font-semibold">A</span>
    </a>
  </header>


  <!-- Content -->
  <div class="reports-grid p-4 flex flex-col gap-4">

    <h2 class="text-2xl font-semibold">Reports</h2>

    <div class="border border-neutral-400 rounded-xl bg-white shadow-sm overflow-hidden">

      <table class="table-auto w-full text-left">
        <thead class="bg-neutral-200 border-b border-neutral-400">
          <tr>
            <th class="p-3 w-2/6 font-semibold">Document</th>
            <th class="p-3 w-1/6 font-semibold">Similarity</th>
            <th class="p-3 w-1/6 font-semibold">Instructor</th>
            <th class="p-3 w-1/6 font-semibold">University</th>
            <th class="p-3 w-1/6 font-semibold">Date</th>
          </tr>
        </thead>

        <tbody>
          {% for report in reports %}
            <tr class="border-b border-neutral-300 hover:bg-neutral-100 transition text-sm">
              <td class="p-3 truncate">{{ report.checking_document_file.name }}</td>

              <td class="p-3 font-medium">
                <span class="px-2 py-1 rounded bg-blue-100 border border-blue-300">
                  {{ report.report_result }}%
                </span>
              </td>

              <td class="p-3">
                {{ report.instructor_id.first_name }} {{ report.instructor_id.last_name }}
              </td>

              <td class="p-3">
                {{ report.instructor_id.university_id.university_name }}
              </td>

              <td class="p-3">
                {{ report.last_modified_at }}
              </td>
            </tr>
          {% empty %}
          <tr>
            <td colspan="5" class="p-5 text-center text-neutral-500">
              No reports available.
            </td>
          </tr>
          {% endfor %}
        </tbody>

      </table>

    </div>
  </div>
</div>

{% endblock %}
