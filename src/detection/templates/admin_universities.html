{% extends "base.html" %}
{% load static %}

{% block content %}

<div class="min-h-screen bg-slate-50 text-slate-900 flex flex-col">

  <!-- ================= HEADER ================= -->
  <header class="flex justify-between items-center px-6 py-3 bg-white border-b shadow-sm">
    <a href="{% url 'admin_dashboard' %}" class="text-xl font-semibold tracking-tight text-slate-900">
      Plagiarism Detection
    </a>

    <h1 class="text-lg font-medium text-slate-700">Admin â€“ Universities</h1>

    <a href="{% url 'admin_account' %}"
       class="flex items-center justify-center w-9 h-9 rounded-full bg-slate-200 text-slate-700 hover:bg-slate-300 transition font-semibold">
       A
    </a>
  </header>


  <!-- ================= PAGE CONTENT ================= -->
  <main class="p-6 flex-1">

    <section class="bg-white rounded-2xl border shadow-sm p-6">
      <h2 class="text-xl font-semibold text-slate-900 mb-4">Pending Universities</h2>

      <div class="space-y-4">

        {% for pending_uni in pending_unis %}
        <div class="flex justify-between items-center p-4 bg-slate-50 rounded-xl border shadow-sm hover:bg-slate-100 transition">

          <!-- University Name -->
          <h3 class="text-base font-medium text-slate-800">{{ pending_uni.university_name }}</h3>

          <!-- Actions -->
          <div class="flex gap-3">

              <!-- APPROVE BUTTON -->
              <form method="post">
                  {% csrf_token %}
                  <input type="hidden" name="type" value="approve">
                  <input type="hidden" name="university_id" value="{{ pending_uni.id }}">
                  <button
                      type="submit"
                      class="px-4 py-1.5 rounded-lg border border-green-600 text-green-700 hover:bg-green-50 transition text-sm font-medium">
                      Approve
                  </button>
              </form>

              <!-- REJECT BUTTON -->
              <form method="post">
                  {% csrf_token %}
                  <input type="hidden" name="type" value="reject">
                  <input type="hidden" name="university_id" value="{{ pending_uni.id }}">
                  <button
                      type="submit"
                      class="px-4 py-1.5 rounded-lg border border-red-600 text-red-700 hover:bg-red-50 transition text-sm font-medium">
                      Reject
                  </button>
              </form>

          </div>
        </div>
        {% endfor %}

        {% if pending_unis|length == 0 %}
        <p class="text-slate-500 text-sm">No universities are awaiting approval.</p>
        {% endif %}

      </div>

    </section>

  </main>

</div>

{% endblock %}
