{% extends "base.html" %}
{% load static %}

{% block extra_css %}
<!-- =========================================
     LOAD PAGE-SPECIFIC STYLESHEET
     ========================================= -->
<link rel="stylesheet" href="{% static 'css/university_instructors.css' %}">
{% endblock %}

{% block content %}
<!-- =========================================================
     PAGE: University Instructors Management
     DESCRIPTION:
       Displays all instructors under a university account.
       Divided into:
         - Pending Instructors (awaiting approval)
         - Approved Instructors
         - Rejected Instructors
       Includes actions to approve, reject, remove, or reconsider.
   ========================================================= -->

<div class="instructors-container">

  <!-- =========================================
       HEADER SECTION
       ========================================= -->
  <header class="instructors-header">
    <h1>Instructor Management</h1>
    <a href="{% url 'university_dashboard' %}" class="btn-back">‚¨Ö Back to Dashboard</a>
  </header>

  <!-- =========================================
       MAIN GRID LAYOUT
       Contains three vertical columns for
       Pending, Approved, and Rejected instructors.
       ========================================= -->
  <div class="instructors-grid">

    <!-- =========================================
         PENDING INSTRUCTORS
         ========================================= -->
    <section class="column pending">
      <h2>Pending Instructors</h2>

      {% for instructor in pending %}

      <!-- Example Pending Instructor Card -->
      <div class="inst-card">
        <h3>Instructor #{{ instructor.id }} - {{ instructor.first_name }} {{ instructor.last_name }}</h3>
        <p>Email: {{ instructor.email }}</p>
        <p>Requested: {{ instructor.created_at|timesince }}</p>

        <!-- Action Buttons -->
        <div class="actions">
          <form method="post">
            {% csrf_token %}
            <input class="hidden" type="hidden" name="type" value="approve">
            <input class="hidden" type="hidden" name="approve_instructor" value={{ instructor.id }} >
            <button class="btn approve submit" type="submit">Approve ‚úÖ</button>
          </form>
          {% comment %} <form method="post">
            {% csrf_token %}
            <input class="hidden" type="hidden" name="type" value="reject">
            <input class="hidden" type="hidden" name="reject_instructor" value={{ instructor.id }} >
            <button class="btn reject submit" type="submit">Reject ‚ùå</button>
          </form> {% endcomment %}
        </div>
      </div>

      {% endfor %}

    </section>

    <!-- =========================================
         APPROVED INSTRUCTORS
         ========================================= -->
    <section class="column approved">
      <h2>Approved Instructors</h2>

      <!-- Example Approved Instructor Card -->

      {% for instructor in approved %}

        <div class="inst-card">
          <h3>Instructor #{{ insructor.id }} - {{ instructor.first_name }} {{ instructor.last_name }}</h3>
          <p>Email: {{ instructor.email }}</p>
          <p>Joined: {{ instructor.created_at }}</p>
          <div class="actions">
            <form method="post">
              {% csrf_token %}
              <input class="hidden" type="hidden" name="type" value="delete">
              <input type="hidden" class="hidden" name="delete_instructor" value={{ instrutor.id }}>
              <button class="btn delete">Remove</button>
            </form>
          </div>
        </div>

        {% endfor %}

    </section>

    {% comment %} <!-- =========================================
         REJECTED INSTRUCTORS
         ========================================= -->
    <section class="column rejected">
      <h2>Rejected Instructors</h2>

      <!-- Example Rejected Instructor Card -->
      <div class="inst-card">
        <h3>Instructor #09 ‚Äì Karim Jan</h3>
        <p>Email: karim@kardan.edu</p>
        <p>Rejected: Oct 15, 2025</p>

        <!-- Reconsider Action -->
        <div class="actions">
          <button class="btn unreject">Reconsider üîÑ</button>
        </div>
      </div>
    </section> {% endcomment %}

  </div>
</div>
{% endblock %}
